<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template/template.xhtml">
<ui:define name="content">
 <h1>Historial de Ordenes</h1>
 
<!--   <h:form id="SearchForm"> -->
<!--   <f:passThroughAttribute name="autocomplete" value="off"/> -->
<!--   <p:panel id="SearchPanel" > -->
<!--   <div class="ui-g"> -->
<!--   <div class="ui-g-9 ui-g-nopad"> -->
<!--      <div class="ui-g-6"> -->
<!--       <p:outputLabel for="fechaDesde" value="Fecha Desde" /> -->
<!--         <p:calendar id="fechaDesde"  pattern="dd/MM/yyyy" mask="true" required="true" locale="es" navigator="true" value="#{historialDePagosForm.searchFechaDesde}"/> -->
<!--         <p:message for="fechaDesde"/> -->
<!--      </div> -->
<!--      <div class="ui-g-6"> -->
<!--         <p:outputLabel for="fechaHasta" value="Fecha Hasta" /> -->
<!--          <p:calendar id="fechaHasta" pattern="dd/MM/yyyy" mask="true" required="true" locale="es" navigator="true" value="#{historialDePagosForm.searchFechaHasta}"/> -->
<!--          <p:message for="fechaHasta"/> -->
<!--      </div> -->
<!--   </div> -->
<!--   </div>END ui-g  -->
<!--    <div class="ui-g"> -->
<!--       <div class="ui-g-12 ui-md-12 ui-lg-12" style="text-align: left;"> -->
<!--        <p:commandButton value="Consultar" update="SearchPanel HistorialDePagosFormReadOnly" actionListener="#{historialDePagosForm.filtraPorFechas()}" oncomplete="$('.ui-message-error').delay(1800).fadeOut(500);"/> -->
<!--       </div> -->
<!--    </div>END ui-g  -->
<!--    </p:panel> -->
<!--   </h:form> -->
  
 
<h:form id="SearchForm">
 <f:passThroughAttribute name="autocomplete" value="off"/>
  <p:fieldset legend="Buscar Orden " toggleable="true" toggleSpeed="500" style="margin-bottom:20px" collapsed="true" >
  <p:ajax event="toggle" />
  <p:panel id="SearchPanel" >
      <div class="ui-g ui-fluid">
       <div class="ui-g-12 ui-lg-3" style="margin-bottom: 5px;">
        <p:outputLabel  for="nombre_paciente" value="Nombre Paciente:" />
         <p:inputText id="nombre_paciente"  style="width: 100%; margin-top: 5px;"  maxlength="50" />
         <p:message for="nombre_paciente"/>
      </div>
      <div class="ui-g-12 ui-lg-3" style="margin-bottom: 5px;">
        <p:outputLabel  for="numero_orden" value="Numero Orden:" />
         <p:inputText id="numero_orden"  style="width: 100%; margin-top: 5px;"  maxlength="50" />
         <p:message for="numero_orden"/>
      </div>
      <div class="ui-g-12 ui-lg-3" style="margin-bottom: 5px;">
        <p:outputLabel  for="nombre_estudio" value="Nombre Estudio:" />
         <p:inputText id="nombre_estudio"  style="width: 100%; margin-top: 5px;"  maxlength="50" />
         <p:message for="nombre_estudio"/>
      </div>
      </div>
      
      <div class="ui-g">
       <div class="ui-g-12 ui-lg-12" style="text-align: right;">
        <p:commandButton value="Cancelar">
         <p:ajax update="SearchPanel" resetValues="true" />
        </p:commandButton>
        <p:commandButton value="Consultar" update="HistorialDePagosFormReadOnly"   style="margin-left: 10px;"/>
       </div>
      </div>
      
  </p:panel>
  </p:fieldset>
</h:form>
  <h:form id="HistorialDePagosFormReadOnly">
    <div class="ui-g">
    <div class="ui-g-12 ui-lg-12">
    <div class="card no-margin">
           <div class="ui-g">
           <div class="ui-g-12 ui-lg-12">
              <p:dataTable var="historialOrden" value="#{historialOrdenesForm.listOrdenesEstudios}" emptyMessage="Sin resultados" tableStyle="width:auto"  paginator="true" rows="10" paginatorPosition="bottom" paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}" >
				   <p:column headerText="Numero orden" style="text-overflow: ellipsis; white-space: nowrap;">
			        <h:outputText value="#{historialOrden.numeroOrden}" />
			       </p:column> 
			       <p:column headerText="Nombre Paciente">
			         <h:outputText value="#{historialOrden.nombrePaciente}" />
			       </p:column>
<!-- 			        <p:column headerText="Fecha" style="text-overflow: ellipsis; white-space: nowrap;"> -->
<!-- 			         <h:outputText value="#{pagoDeEstudio.castFechaCreacion}" > -->
<!-- 			          <f:convertDateTime type="date" pattern= "yyyy-MM-dd" /> -->
<!-- 			         </h:outputText> -->
<!-- 			       </p:column> -->
			       <p:column headerText="Nombre Estudio">
			         <h:outputText value="#{historialOrden.nombreEstudio}" /> 
			       </p:column>
			        <p:column headerText="Fecha Creacion">
			           <h:outputText value="#{historialOrden.fechaCreacion}" />
			       </p:column>
			      <p:column headerText="Tipo De Orden">
			           <h:outputText value="#{historialOrden.tipoOrden}" />
			       </p:column>
<!-- 			       <p:column headerText="Observaciones Pago"> -->
<!-- 			           <h:outputText value="#{pagoDeEstudio.observPago}" /> -->
<!-- 			       </p:column> -->
			  </p:dataTable> 
           </div>
           </div>
     </div>
     </div>
   </div>   
  </h:form>
 
</ui:define>
</ui:composition>